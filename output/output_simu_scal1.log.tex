. clear
{\smallskip}
. set seed 999
{\smallskip}
. quietly set obs 10000
{\smallskip}
. matrix C = (1, 0.1, 0.1 \\ 0.1, 1, 0.1 \\ 0.1, 0.1, 1)
{\smallskip}
. drawnorm x zu zw, corr(C)
{\smallskip}
. generate ui = invexponential(1, uniform())
{\smallskip}
. generate wi = invexponential(1, uniform())
{\smallskip}
. generate vi = invnormal(uniform())
{\smallskip}
. generate y = x - exp(0.6 * zu) * ui + exp(0.8 * zw) * wi + vi
{\smallskip}
. sftt y x, scal sigmau(zu) sigmaw(zw) robust nocons
initial value: delta_x 1.056823117155453 du_zu 1 mu_u 1 dw_zw 1 mu_w 1
(obs = 10,000)
{\smallskip}
Iteration 0:  residual SS =  70216.84
Iteration 1:  residual SS =  68805.46
Iteration 2:  residual SS =  68791.96
Iteration 3:  residual SS =  68791.83
Iteration 4:  residual SS =  68791.83
Iteration 5:  residual SS =  68791.83
{\smallskip}
{\smallskip}
Nonlinear regression                                Number of obs =     10,000
                                                    R-squared     =     0.3221
                                                    Adj R-squared =     0.3217
                                                    Root MSE      =   2.623476
                                                    Res. dev.     =   47663.77
{\smallskip}
Two-tiered SF Model (2TSF) : Scaling
\HLI{13}{\TOPT}\HLI{64}
             {\VBAR}               Robust
           y {\VBAR}      Coef.   Std. Err.      t    P>|t|     [95\% Conf. Interval]
\HLI{13}{\PLUS}\HLI{64}
    /delta_x {\VBAR}   1.004185    .025706    39.06   0.000     .9537958    1.054574
      /du_zu {\VBAR}   .5945575   .0549976    10.81   0.000     .4867511    .7023639
       /mu_u {\VBAR}   1.013727   .1194435     8.49   0.000     .7795938     1.24786
      /dw_zw {\VBAR}    .777372   .0684228    11.36   0.000     .6432495    .9114945
       /mu_w {\VBAR}   1.030119   .1314908     7.83   0.000     .7723707    1.287868
\HLI{13}{\BOTT}\HLI{64}
